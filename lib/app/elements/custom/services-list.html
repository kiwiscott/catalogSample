<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<dom-module id="cat-services">

  <template>
    <style>
      table {
        width: 100%
      }
      
      a {
        color: black;
        text-decoration: none;
      }
      
      table th {
        text-align: left
      }
      
      .horizontal-section {
        background-color: white;
        padding: 10px;
        margin: 10px;
        min-width: 200px;
        @apply(--shadow-elevation-2dp);
      }
      
      .horizontal-section-container {
        @apply(--layout-horizontal);
        
        @apply(--layout-wrap);
      }
    </style>
    <iron-ajax auto url="/api/services/" handle-as="json" last-response="{{ajaxResponse}}"></iron-ajax>

    <H2>Services</H2>
<!--
    <div class="horizontal-section-container">
      <template is="dom-repeat" items="[[ajaxResponse]]">
          <div class="horizontal-section">
            <div>{{item.familyCode}} PP {{item.code}</div>
            <div>{{item.code}}</div>
            <div>{{item.name}}</div>
            <div>{{item.description}}</div>
            <div>{{item.status}}</div>
          </div>

          <div class="horizontal-section">
            <div><strong>{{item.familyCode}}</strong></div>
            <div>{{item.code}}</div>
            <div>{{item.name}}</div>
            <div>{{item.description}}</div>
            <div>{{item.status}}</div>
          </div>
          
    </div></template>
          -->



    
    <table>
      <thead>
        <TH>FAMILY CODE</TH>
        <TH>CODE</TH>
        <TH>NAME</TH>
        <TH>DESCRIPTION</TH>
        <TH>ACRONYM</TH>
        <TH>STATUS</TH>
        <TH>TARGET DATE</TH>
        <TH></TH>
      </thead>
      <tbody>
        <template is="dom-repeat" items="[[ajaxResponse]]">
          <tr>
            <td>{{item.familyCode}}</td>
            <td>{{item.code}}</td>
            <td>{{item.name}}</td>
            <td>{{item.description}}</td>
            <td>{{item.acronym}}</td>
            <td>{{item.status}}</td>
            <td>{{item.targetDate}}</td>
            <td>
              <a href="{{url(itsm.familyCode,item.code)}}">
                <paper-button tabindex="0" raised>
                  <iron-icon icon="editor:mode-edit"></iron-icon>edit</paper-button>
              </a>
            </td>

          </tr>
          </tr>
        </template>
    </table>
  </template>

  <script>
    (function() {
      Polymer({
        is: 'cat-services',
        url :function (familyCode,code) {
          return '/cat-services/'+ familyCode + '/' + code;
        }
      });
    })();
  </script>

</dom-module>